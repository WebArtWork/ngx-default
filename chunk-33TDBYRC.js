import{a as S}from"./chunk-FDHJPNWT.js";import{j as v}from"./chunk-BE45KCKU.js";import{$ as d,A as x,Aa as s,Ba as l,E as u,Ia as y,Ib as T,J as p,K as _,Ka as c,Ma as g,R as h,S as M,dc as D,ga as f,kb as P,sa as C,ta as w,ub as n,wb as m,xb as a,ya as b,za as o}from"./chunk-GEUL6SEO.js";var N=(()=>{class t{constructor(){this._core=u(v),this._lsKeyWebMode="waw:sidebar:webMode",this.isMobile=n(()=>this._core.viewport()==="mobile"),this.webMode=h(this._loadWebMode()),this.mobileOpen=h(!1),this.previewOpen=h(!1),this.pinnedVisible=n(()=>!this.isMobile()&&this.webMode()!=="hidden"),this.previewVisible=n(()=>!this.isMobile()&&this.webMode()==="hidden"&&this.previewOpen()),this.anySidebarVisible=n(()=>this.pinnedVisible()||this.previewVisible()||this.isMobile()&&this.mobileOpen()),this.showNames=n(()=>this.isMobile()?!0:this.webMode()!=="minimized"),this.widthPx=n(()=>!this.isMobile()&&this.webMode()==="minimized"?72:200),this.disableBurgerHover=!1,M(()=>{let e=this.webMode();if(!this.isMobile())try{localStorage.setItem(this._lsKeyWebMode,e)}catch(r){}}),M(()=>{this.isMobile()&&this.previewOpen.set(!1)})}burgerClick(){if(this.isMobile()){this.mobileOpen.update(r=>!r);return}let e=this.webMode();e==="hidden"?this.webMode.set("shown"):e==="shown"?this.webMode.set("minimized"):this.webMode.set("hidden"),this.previewOpen.set(!1)}onBurgerHover(e){if(!(this.isMobile()||this.disableBurgerHover)){if(this.webMode()!=="hidden"){this.previewOpen.set(!1);return}this.previewOpen.set(e)}}closeAfterNavigation(){this.isMobile()&&this.mobileOpen.set(!1),this.previewOpen.set(!1)}requestClose(){this.mobileOpen.set(!1),this.previewOpen.set(!1)}_loadWebMode(){try{let e=localStorage.getItem(this._lsKeyWebMode);if(e==="shown"||e==="minimized"||e==="hidden")return e}catch(e){}return"shown"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var B=(()=>{class t{constructor(){this.state=a("three-lines"),this.isOpen=a(!1),this.updated=m(),this.hovered=m(),this._isCross=n(()=>this.state()==="cross"),this._lines=n(()=>{switch(this.state()){case"one-line":return 1;case"two-lines":return 2;case"cross":return 3;default:return 3}}),this._legacyCross=n(()=>this.isOpen()),this._classes=n(()=>{let e=this._isCross()||this._legacyCross();return{"burger--cross":e,"burger--one":!e&&this._lines()===1,"burger--two":!e&&this._lines()===2,"burger--three":!e&&this._lines()===3}})}toggle(){this.updated.emit(!0)}onHover(e){this.hovered.emit(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=f({type:t,selectors:[["icon-burger"]],inputs:{state:[1,"state"],isOpen:[1,"isOpen"]},outputs:{updated:"updated",hovered:"hovered"},decls:3,vars:1,consts:[[1,"burger",3,"mouseenter","mouseleave","ngClass"],["aria-label","Toggle menu","type","button",1,"burger__btn",3,"click"],[1,"burger__bar"]],template:function(r,i){r&1&&(o(0,"div",0),c("mouseenter",function(){return i.onHover(!0)})("mouseleave",function(){return i.onHover(!1)}),o(1,"button",1),c("click",function(){return i.toggle()}),l(2,"span",2),s()()),r&2&&b("ngClass",i._classes())},dependencies:[T],styles:['@charset "UTF-8";.burger[_ngcontent-%COMP%]{--burger-size: 44px;--bar-w: 24px;--bar-h: 2px;--bar-gap: 8px;display:inline-flex}.burger__btn[_ngcontent-%COMP%]{inline-size:var(--burger-size);block-size:var(--burger-size);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;border:0;border-radius:var(--radius-btn);-webkit-tap-highlight-color:transparent;touch-action:manipulation;padding:0}.burger__btn[_ngcontent-%COMP%]:hover{background:var(--c-bg-tertiary)}.burger__btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:var(--focus-ring)}.burger__bar[_ngcontent-%COMP%]{position:relative;inline-size:var(--bar-w);block-size:var(--bar-h);background-color:var(--c-text-primary);transition:transform var(--motion) var(--easing),background-color var(--motion-fast) var(--easing)}.burger__bar[_ngcontent-%COMP%]:before, .burger__bar[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;inline-size:100%;block-size:var(--bar-h);background-color:var(--c-text-primary);transition:transform var(--motion) var(--easing),background-color var(--motion-fast) var(--easing),opacity var(--motion-fast) var(--easing)}.burger__bar[_ngcontent-%COMP%]:before{transform:translateY(calc(var(--bar-gap) * -1))}.burger__bar[_ngcontent-%COMP%]:after{transform:translateY(var(--bar-gap))}.burger--one[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]:before, .burger--one[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]:after{opacity:0}.burger--two[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]{background-color:transparent}.burger--two[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]:before{transform:translateY(calc(var(--bar-gap) / -2));opacity:1}.burger--two[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]:after{transform:translateY(calc(var(--bar-gap) / 2));opacity:1}.burger--cross[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]{background-color:transparent}.burger--cross[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]:before{opacity:1;transform:translateY(0) rotate(45deg)}.burger--cross[_ngcontent-%COMP%]   .burger__bar[_ngcontent-%COMP%]:after{opacity:1;transform:translateY(0) rotate(-45deg)}@media(prefers-reduced-motion:reduce){.burger__bar[_ngcontent-%COMP%], .burger__bar[_ngcontent-%COMP%]:before, .burger__bar[_ngcontent-%COMP%]:after{transition:none!important;animation:none!important}}'],changeDetection:0})}}return t})();var z=()=>({exact:!0});function V(t,H){if(t&1){let e=y();o(0,"li",5),c("mouseleave",function(){p(e);let i=g();return _(i.onBurgerHover(!1))})("mouseenter",function(){p(e);let i=g();return _(i.onBurgerHover(!0))}),o(1,"icon-burger",6),c("updated",function(){p(e);let i=g();return _(i.onBurgerClick())}),s()()}if(t&2){let e=g();d(),b("state",e.burgerState())}}function j(t,H){t&1&&(o(0,"li",2),l(1,"material-icon",7),s())}var ee=(()=>{class t{constructor(){this._coreService=u(v),this._sidebarService=u(N),this.isOpen=a(!1),this.sidebarToggler=a(!1),this.sidebarOpen=m(),this.showProfile=a(!1),this.viewport=this._coreService.viewport,this.burgerState=n(()=>{if(this._sidebarService.isMobile())return this._sidebarService.mobileOpen()?"cross":"three-lines";switch(this._sidebarService.webMode()){case"shown":return"three-lines";case"minimized":return"two-lines";default:return"one-line"}}),this._onBurgerHover=null}onBurgerClick(){this._sidebarService.burgerClick()}onBurgerHover(e){this._onBurgerHover&&(clearTimeout(this._onBurgerHover),this._onBurgerHover=null),e?this._sidebarService.onBurgerHover(e):this._onBurgerHover=setTimeout(()=>{this._sidebarService.onBurgerHover(e),this._onBurgerHover=null},2e3)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=f({type:t,selectors:[["layout-topbar"]],inputs:{isOpen:[1,"isOpen"],sidebarToggler:[1,"sidebarToggler"],showProfile:[1,"showProfile"]},outputs:{sidebarOpen:"sidebarOpen"},decls:7,vars:7,consts:[[1,"sticky","top-0","z-[100]","flex","min-h-14","items-center","bg-[var(--c-bg-secondary)]","shadow","px-5","max-md:fixed","max-md:bottom-0","max-md:top-auto","max-md:w-full","max-md:px-3"],[1,"m-0","flex","w-full","list-none","items-center","gap-2","p-0","max-md:justify-between","max-md:gap-0"],[1,"inline-flex","items-center","max-md:flex-1","max-md:justify-center"],[3,"routerLink","name","icon","routerLinkActiveOptions"],[1,"mx-auto","max-md:hidden"],[1,"inline-flex","items-center","max-md:flex-1","max-md:justify-center",3,"mouseleave","mouseenter"],["aria-label","Menu",3,"updated","state"],["icon","person","routerLink","/profile"]],template:function(r,i){r&1&&(o(0,"nav",0)(1,"ul",1)(2,"li",2),l(3,"material-icon",3),s(),l(4,"li",4),C(5,V,2,1,"li",2),C(6,j,2,0,"li",2),s()()),r&2&&(d(3),b("routerLink",i.sidebarToggler()?"/dashboard":"/")("name",i.viewport()==="mobile"?"":i.sidebarToggler()?"Dashboard":"")("icon",i.sidebarToggler()?"dashboard":"home")("routerLinkActiveOptions",P(6,z)),d(2),w(i.sidebarToggler()?5:-1),d(),w(i.showProfile()?6:-1))},dependencies:[D,S,B],encapsulation:2,changeDetection:0})}}return t})();export{N as a,ee as b};
