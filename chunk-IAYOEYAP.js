import{a as S,b as j}from"./chunk-33TDBYRC.js";import{a as E}from"./chunk-34FNLTQI.js";import{b as D}from"./chunk-AYMCA3C3.js";import"./chunk-DHEXM2DX.js";import"./chunk-NDTEPHHI.js";import{a as z}from"./chunk-FDHJPNWT.js";import{q as N,s as V}from"./chunk-BE45KCKU.js";import{$ as r,Aa as o,Ba as m,E as v,Ia as C,Ib as P,J as g,K as f,Ka as l,Ma as c,Wa as x,Xa as d,Z as k,Za as w,bc as O,dc as T,ga as h,nb as M,sa as u,ta as _,ub as y,ya as s,za as a}from"./chunk-GEUL6SEO.js";import"./chunk-6MDQTQU3.js";var U=(t,b,i)=>({"fixed right-0 top-0 bottom-[var(--topbar-h)] h-[calc(100dvh-var(--topbar-h))]":t,"md:fixed md:right-0 md:top-14 md:h-[calc(100dvh-56px)]":b,"md:sticky md:top-14 md:h-[calc(100dvh-56px)]":i});function B(t,b){if(t&1){let i=C();a(0,"div",10),l("click",function(e){g(i);let p=c();return f(p.closeBackdrop(e))}),o()}}function F(t,b){t&1&&(a(0,"span",5),w(1,"Profile"),o())}function H(t,b){if(t&1){let i=C();a(0,"material-icon",11),l("click",function(){g(i);let e=c();return f(e.closeIfOverlay())}),o(),a(1,"material-icon",12),l("click",function(){g(i);let e=c();return f(e.closeIfOverlay())}),o(),a(2,"material-icon",13),l("click",function(){g(i);let e=c();return f(e.closeIfOverlay())}),o(),a(3,"material-icon",14),l("click",function(){g(i);let e=c();return f(e.closeIfOverlay())}),o(),m(4,"hr",7)}if(t&2){let i=c();d("sidebar--minimized-icon",!i.showNames()),s("name",i.showNames()?"Users":""),r(),d("sidebar--minimized-icon",!i.showNames()),s("name",i.showNames()?"Clients":""),r(),d("sidebar--minimized-icon",!i.showNames()),s("name",i.showNames()?"Forms":""),r(),d("sidebar--minimized-icon",!i.showNames()),s("name",i.showNames()?"Translates":"")}}function A(t,b){if(t&1&&m(0,"span",17),t&2){let i,n=c(2);s("translate",((i=n.languageService.language())==null?null:i.name)||"")}}function R(t,b){if(t&1){let i=C();a(0,"button",15),l("click",function(){g(i);let e=c();return e.languageService.nextLanguage(),f(e.closeIfOverlay())}),a(1,"span",16),w(2,"language"),o(),u(3,A,1,1,"span",17),o()}if(t&2){let i=c();r(3),_(i.showNames()?3:-1)}}var L=(()=>{class t{constructor(){this.themeService=v(N),this.userService=v(E),this.languageService=v(D),this.sidebarService=v(S),this.showNames=this.sidebarService.showNames,this.widthPx=this.sidebarService.widthPx,this.isPreview=this.sidebarService.previewVisible,this.isMobile=this.sidebarService.isMobile,this.isOverlay=y(()=>this.isMobile()||this.isPreview()),this.isMinimized=y(()=>!this.isMobile()&&!this.isPreview()&&this.sidebarService.webMode()==="minimized")}closeIfOverlay(){this.isOverlay()&&this.sidebarService.closeAfterNavigation()}closeBackdrop(i){i.preventDefault(),i.stopPropagation(),this.sidebarService.requestClose()}logout(){this.userService.logout(),this.sidebarService.closeAfterNavigation()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=h({type:t,selectors:[["layout-sidebar"]],decls:11,vars:19,consts:[[1,"sidebar__backdrop","fixed","inset-x-0","top-0","bottom-[var(--topbar-h)]"],[1,"sidebar","z-[90]","flex","flex-col","overflow-auto","bg-[var(--c-bg-secondary)]","p-5","shadow",3,"mouseleave","mouseenter","ngClass"],[1,"mt-1","flex","items-center","gap-2","rounded-[var(--radius)]","px-2","py-1",3,"ngClass"],["routerLink","/profile",1,"inline-flex","min-w-0","items-center","gap-2","text-[var(--c-text-primary)]","no-underline",3,"click","ngClass"],["alt","User avatar","height","32","width","32",1,"h-8","w-8","rounded-full",3,"src"],["translate","",1,"truncate","font-semibold"],["routerLink","/settings","icon","settings",3,"click","name"],[1,"my-2","border-0","border-t-2","border-t-[var(--c-text-primary)]"],[1,"mt-auto","flex","items-center","justify-between","gap-2"],["aria-label","Switch language","type","button",1,"inline-flex","flex-1","items-center","justify-center","gap-2","rounded-[var(--radius)]","bg-transparent","px-2","py-2","text-sm","text-[var(--c-text-primary)]"],[1,"sidebar__backdrop","fixed","inset-x-0","top-0","bottom-[var(--topbar-h)]",3,"click"],["routerLink","/admin/users","icon","manage_accounts",3,"click","name"],["routerLink","/admin/clients","icon","people",3,"click","name"],["routerLink","/admin/forms","icon","backup_table",3,"click","name"],["routerLink","/admin/translates","icon","translate",3,"click","name"],["aria-label","Switch language","type","button",1,"inline-flex","flex-1","items-center","justify-center","gap-2","rounded-[var(--radius)]","bg-transparent","px-2","py-2","text-sm","text-[var(--c-text-primary)]",3,"click"],[1,"material-icons","text-xl"],[3,"translate"]],template:function(n,e){if(n&1&&(u(0,B,1,0,"div",0),a(1,"aside",1),l("mouseleave",function(){return e.sidebarService.disableBurgerHover=!1,e.sidebarService.onBurgerHover(!1)})("mouseenter",function(){return e.sidebarService.disableBurgerHover=!0}),a(2,"div",2)(3,"a",3),l("click",function(){return e.closeIfOverlay()}),m(4,"img",4),u(5,F,2,0,"span",5),o()(),a(6,"material-icon",6),l("click",function(){return e.closeIfOverlay()}),o(),m(7,"hr",7),u(8,H,5,12),a(9,"div",8),u(10,R,4,1,"button",9),o()()),n&2){let p;_(e.isMobile()?0:-1),r(),x("width",e.widthPx(),"px"),d("sidebar--min",e.isMinimized()),s("ngClass",M(15,U,e.isMobile(),e.isPreview(),!e.isMobile()&&!e.isPreview())),r(),s("ngClass",e.isMinimized()?"justify-center":"justify-between"),r(),s("ngClass",e.isMinimized()?"flex-none justify-center":"flex-1"),r(),s("src",e.userService.thumb(),k),r(),_(e.showNames()?5:-1),r(),d("sidebar--minimized-icon",!e.showNames()),s("name",e.showNames()?"Settings":""),r(2),_(e.userService.role("admin")?8:-1),r(2),_((p=e.languageService.language())!=null&&p.name?10:-1)}},dependencies:[T,V,z,P],styles:[".sidebar__backdrop[_ngcontent-%COMP%]{z-index:80;background:color-mix(in_srgb,var(--c-bg-primary) 35%,transparent);pointer-events:auto}.sidebar--min[_ngcontent-%COMP%]{padding-inline:var(--sp-2);padding-block:var(--sp-4)}.sidebar--min[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(material-icon){display:flex;justify-content:center;width:100%}.sidebar--min[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(button){justify-content:center}.sidebar--minimized-icon[_ngcontent-%COMP%]{padding-left:8px!important}"],changeDetection:0})}}return t})();function q(t,b){t&1&&m(0,"layout-sidebar",2)}var ce=(()=>{class t{constructor(){this.sidebar=v(S)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=h({type:t,selectors:[["ng-component"]],decls:5,vars:6,consts:[[1,"user","fixed","inset-0","overflow-hidden","bg-[var(--c-bg-primary)]","text-[var(--c-text-primary)]"],[1,"user__topbar",3,"sidebarToggler"],[1,"user__sidebar"],[1,"user__main","relative","overflow-auto","max-md:mb-14","max-md:px-2","max-md:py-3"]],template:function(n,e){n&1&&(a(0,"div",0),m(1,"layout-topbar",1),u(2,q,1,0,"layout-sidebar",2),a(3,"div",3),m(4,"router-outlet"),o()()),n&2&&(x("--drawer-w",e.sidebar.widthPx(),"px"),d("user--withSidebar",e.sidebar.pinnedVisible()),r(),s("sidebarToggler",!0),r(),_(e.sidebar.anySidebarVisible()?2:-1))},dependencies:[O,j,L],styles:[".user[_ngcontent-%COMP%]{--topbar-h: 56px;display:flex;flex-direction:column;min-height:100dvh}.user__main[_ngcontent-%COMP%]{min-height:0;flex:1}@media(min-width:768px){.user[_ngcontent-%COMP%]{display:grid;grid-template-rows:var(--topbar-h) 1fr}.user.user--withSidebar[_ngcontent-%COMP%]{grid-template-columns:1fr var(--drawer-w)}.user[_ngcontent-%COMP%]:not(.user--withSidebar){grid-template-columns:1fr}.user__topbar[_ngcontent-%COMP%]{grid-column:1/-1;grid-row:1}.user__main[_ngcontent-%COMP%]{grid-column:1;grid-row:2;margin-bottom:0}.user__sidebar[_ngcontent-%COMP%]{grid-column:2;grid-row:2}}"],changeDetection:0})}}return t})();export{ce as UserComponent};
