import{a as N}from"./chunk-4BMXIR5C.js";import"./chunk-PQZDESBD.js";import"./chunk-FTLRRYIQ.js";import"./chunk-XQJPQ7LG.js";import{a as V}from"./chunk-34FNLTQI.js";import{b as U}from"./chunk-AYMCA3C3.js";import{b as L}from"./chunk-DHEXM2DX.js";import{a as D,b as M,c as T,e as g,i as k}from"./chunk-NDTEPHHI.js";import{a as j}from"./chunk-FDHJPNWT.js";import{i as E}from"./chunk-BE45KCKU.js";import{$ as n,Aa as c,Ba as a,E as w,Ia as P,J as S,K as h,Ka as p,Ma as f,R as b,Za as d,ea as m,fa as u,ga as x,sa as C,ta as _,ub as F,ya as o,za as s}from"./chunk-GEUL6SEO.js";import{a as y,b as v}from"./chunk-6MDQTQU3.js";var q=T(t=>{g(t.currentPassword,{message:"Enter your current password..."}),g(t.newPassword,{message:"Enter your new password..."}),g(t.confirmPassword,{message:"Confirm your new password..."})});function I(t,A){if(t&1){let e=P();s(0,"button",12),p("click",function(){S(e);let i=f();return h(i.languageService.nextLanguage())}),s(1,"span",13),d(2,"language"),c(),a(3,"span",14),c()}if(t&2){let e,r=f();n(3),o("translate",((e=r.languageService.language())==null?null:e.name)||"")}}var z=(()=>{class t{constructor(){this.userService=w(V),this.languageService=w(U),this.securityModel=b({currentPassword:"",newPassword:"",confirmPassword:""}),this.securityForm=D(this.securityModel,q),this.isSecurityDisabled=F(()=>{let e=this.securityModel();return this.securityForm().invalid()||e.newPassword!==e.confirmPassword})}wSecuritySubmit(){M(this.securityForm,e=>{let r=e().value();return this.userService.changePassword(r.currentPassword,r.newPassword).pipe(E()).subscribe({next:()=>{this.securityForm().reset(),this.securityModel.set({currentPassword:"",newPassword:"",confirmPassword:""})}}),Promise.resolve()})}updateThumb(e){this.userService.user.set(v(y({},this.userService.user()),{thumb:e})),this.userService.updateMe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=x({type:t,selectors:[["ng-component"]],decls:16,vars:6,consts:[[1,"grid","gap-4"],[1,"flex","flex-col","gap-4","rounded-[var(--radius-card)]","border","border-[var(--c-border)]","bg-[var(--c-bg-secondary)]","p-5","shadow-[var(--shadow-sm)]","sm:p-4"],[1,"flex","flex-col","gap-3"],[1,"flex","flex-col","gap-3",3,"submit"],["placeholder","Enter your current password...","type","password",3,"formField"],["placeholder","Enter your new password...","type","password",3,"formField"],["placeholder","Confirm your new password...","type","password",3,"formField"],["type","primary",1,"mt-2",3,"disabled"],["size","48px",3,"showText"],["aria-label","Switch language","type","button",1,"inline-flex","flex-1","items-center","justify-center","gap-2","rounded-[var(--radius)]","bg-transparent","px-2","py-2","text-sm","text-[var(--c-text-primary)]"],["type","secondary",3,"wClick"],["icon","logout"],["aria-label","Switch language","type","button",1,"inline-flex","flex-1","items-center","justify-center","gap-2","rounded-[var(--radius)]","bg-transparent","px-2","py-2","text-sm","text-[var(--c-text-primary)]",3,"click"],[1,"material-icons","text-xl"],[3,"translate"]],template:function(r,i){if(r&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",2)(4,"form",3),p("submit",function(B){return i.wSecuritySubmit(),B.preventDefault()}),a(5,"winput",4),m(),a(6,"winput",5),m(),a(7,"winput",6),m(),s(8,"wbutton",7),d(9," Update password "),c()(),a(10,"icon-theme",8),C(11,I,4,1,"button",9),s(12,"wbutton",10),p("wClick",function(){return i.userService.logout()}),a(13,"material-icon",11),s(14,"span"),d(15,"Logout"),c()()()()()()),r&2){let l;n(5),o("formField",i.securityForm.currentPassword),u(),n(),o("formField",i.securityForm.newPassword),u(),n(),o("formField",i.securityForm.confirmPassword),u(),n(),o("disabled",i.isSecurityDisabled()),n(2),o("showText",!0),n(),_((l=i.languageService.language())!=null&&l.name?11:-1)}},dependencies:[L,k,N,j],encapsulation:2,changeDetection:0})}}return t})();var se=[{path:"",component:z}];export{se as routes};
