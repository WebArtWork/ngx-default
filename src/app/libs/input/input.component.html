@let _formField = formField(); @let _type = type(); @let _name = name(); @let
_label = label(); @let _disabled = disabled(); @let _items = items(); @let
_wClass = wClass(); @let _clearable = clearable(); @let _placeholder =
placeholder(); @let _error = fieldError(); @if (_type !== 'radio' && _type !==
'checkbox' && _type !== 'textarea') {
<label class="winput">
	@if (_label) {
	<span class="winput__label">{{ _label | translate }}</span>
	}

	<div
		[class.winput__control--two-icons]="_clearable && _type === 'password'"
		class="winput__control"
	>
		@if (_formField) {
		<input
			[placeholder]="(_placeholder || 'Enter text...') | translate"
			[autocomplete]="getAutocompleteAttr(_type)"
			(keydown)="wKeydown.emit($event)"
			(focus)="wFocus.emit($event)"
			[manualDisabled]="_disabled"
			(blur)="wBlur.emit($event)"
			(keyup.enter)="onSubmit()"
			(input)="onInput($event)"
			[formField]="_formField"
			[class.error]="_error"
			class="winput__field"
			[ngClass]="_wClass"
			[manualType]="
					_type === 'password'
						? (showPassword() ? 'text' : 'password')
						: _type || 'text'
				"
			#inputEl
		/>
		} @else {
		<input
			[placeholder]="(_placeholder || 'Enter text...') | translate"
			[autocomplete]="getAutocompleteAttr(_type)"
			[attr.disabled]="_disabled ? '' : null"
			(keydown)="wKeydown.emit($event)"
			(focus)="wFocus.emit($event)"
			(blur)="wBlur.emit($event)"
			(keyup.enter)="onSubmit()"
			(input)="onInput($event)"
			[value]="wModel() ?? ''"
			[class.error]="_error"
			class="winput__field"
			[ngClass]="_wClass"
			[attr.name]="_name"
			[attr.type]="
					_type === 'password'
						? (showPassword() ? 'text' : 'password')
						: _type || 'text'
				"
			#inputEl
		/>
		} @if (_clearable) {
		<button
			type="button"
			class="winput__icon-btn winput__clear material-icons"
			(click)="onClear()"
			[attr.aria-label]="'Clear' | translate"
		>
			close
		</button>
		} @if (_type === 'password') {
		<button
			type="button"
			class="winput__icon-btn winput__eye material-icons"
			(click)="showPassword.set(!showPassword())"
			[attr.aria-label]="
					(showPassword() ? 'Hide password' : 'Show password') | translate
				"
		>
			visibility
		</button>
		} @for (icon of icons(); track $index) {
		<material-icon
			(click)="icon.click?.()"
			[name]="icon.name || ''"
			[icon]="icon.icon"
		/>
		}
	</div>

	@if (_error) {
	<div class="winput__error">{{ _error | translate }}</div>
	}
</label>
} @if (_type === 'textarea') {
<label class="winput">
	@if (_label) {
	<span class="winput__label">{{ _label | translate }}</span>
	}

	<div class="winput__control">
		@if (_formField) {
		<textarea
			[placeholder]="(_placeholder || 'Enter text...') | translate"
			class="winput__field winput__field--textarea"
			(keydown)="wKeydown.emit($event)"
			(focus)="wFocus.emit($event)"
			[manualDisabled]="_disabled"
			(blur)="wBlur.emit($event)"
			(input)="onInput($event)"
			[class.error]="_error"
			[formField]="_formField"
			[ngClass]="_wClass"
			#inputEl
		></textarea>
		} @else {
		<textarea
			[placeholder]="(_placeholder || 'Enter text...') | translate"
			class="winput__field winput__field--textarea"
			[attr.disabled]="_disabled ? '' : null"
			(keydown)="wKeydown.emit($event)"
			(focus)="wFocus.emit($event)"
			(blur)="wBlur.emit($event)"
			(input)="onInput($event)"
			[value]="wModel() ?? ''"
			[class.error]="_error"
			[ngClass]="_wClass"
			[attr.name]="_name"
			#inputEl
		></textarea>
		}
	</div>

	@if (_error) {
	<div class="winput__error">{{ _error | translate }}</div>
	}
</label>
} @if (_type === 'radio') { @if (_formField) { @for (item of _items; track
$index) {
<label class="winput__choice" [class.disabled]="_disabled">
	<input
		(keydown)="wKeydown.emit($event)"
		(focus)="wFocus.emit($event)"
		[manualDisabled]="_disabled"
		(blur)="wBlur.emit($event)"
		(input)="onInput($event)"
		[formField]="_formField"
		class="winput__native"
		[class.error]="_error"
		[ngClass]="_wClass"
		[value]="item"
		type="radio"
		#inputEl
	/>
	<span class="winput__choice-mark winput__choice-mark--radio"></span>
	<span class="winput__choice-text">{{ item | translate }}</span>
</label>
} } @else { @for (item of _items; track $index) {
<label class="winput__choice" [class.disabled]="_disabled">
	<input
		(keydown)="wKeydown.emit($event)"
		(input)="onInput($event, item)"
		[checked]="wModel() === item"
		(focus)="wFocus.emit($event)"
		(blur)="wBlur.emit($event)"
		class="winput__native"
		[disabled]="_disabled"
		[class.error]="_error"
		[ngClass]="_wClass"
		[value]="item"
		[name]="_name"
		type="radio"
		#inputEl
	/>
	<span class="winput__choice-mark winput__choice-mark--radio"></span>
	<span class="winput__choice-text">{{ item | translate }}</span>
</label>
} } } @if (_type === 'checkbox') { @if (_items.length) { @for (item of _items;
track $index) {
<label class="winput__choice" [class.disabled]="_disabled">
	<input
		(keydown)="wKeydown.emit($event)"
		(input)="onInput($event, item)"
		[checked]="isItemChecked(item)"
		(focus)="wFocus.emit($event)"
		(blur)="wBlur.emit($event)"
		[name]="_name + $index"
		class="winput__native"
		[disabled]="_disabled"
		[class.error]="_error"
		[ngClass]="_wClass"
		type="checkbox"
		[value]="item"
		#inputEl
	/>
	<span class="winput__choice-mark"></span>
	<span class="winput__choice-text">{{ item | translate }}</span>
</label>
} } @else {
<label class="winput__choice" [class.disabled]="_disabled">
	@if (_formField) {
	<input
		(keydown)="wKeydown.emit($event)"
		(focus)="wFocus.emit($event)"
		[manualDisabled]="_disabled"
		(blur)="wBlur.emit($event)"
		(input)="onInput($event)"
		[formField]="_formField"
		class="winput__native"
		[class.error]="_error"
		[ngClass]="_wClass"
		type="checkbox"
		#inputEl
	/>
	} @else {
	<input
		(keydown)="wKeydown.emit($event)"
		(focus)="wFocus.emit($event)"
		(blur)="wBlur.emit($event)"
		(input)="onInput($event)"
		[disabled]="_disabled"
		[class.error]="_error"
		class="winput__native"
		[checked]="!!wModel()"
		[ngClass]="_wClass"
		type="checkbox"
		[name]="_name"
		#inputEl
	/>
	}

	<span class="winput__choice-mark"></span>

	@if (_label) {
	<span class="winput__choice-text">{{ _label | translate }}</span>
	}
</label>
} }
